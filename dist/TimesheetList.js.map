{"version":3,"file":"TimesheetList.js","sources":["../components/TimesheetList/component.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSuperblocksContext, useSuperblocksIsLoading } from \"@superblocksteam/custom-components\";\nimport { type Props, type EventTriggers } from \"./types\";\nimport \"./main.scss\";\n\nexport default function TimesheetComponent({ currentTimesheets }: Props) {\n  const isLoading = useSuperblocksIsLoading();\n  const {\n    updateProperties,\n    events: { onChangeTimesheet },\n  } = useSuperblocksContext<Props, EventTriggers>();\n\n  const[timesheets, setTimesheets] = useState( currentTimesheets || []);\n  console.log(\"After useState:\", timesheets);\n  \n  React.useEffect(() => {\n                 if (currentTimesheets && currentTimesheets.length > 0) {\n                  console.log(\"currentTimesheets updated:\",currentTimesheets);\n                  setTimesheets(currentTimesheets);\n                 }\n  }, [currentTimesheets]);\n  \n  const weekdays_str = [\"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\", \"sun\"];\n\n  const handleHoursChange = (\n    projectName: string,\n    day: string,\n    hours: number\n  ) => {\n    onChangeTimesheet({\n      project: projectName,\n      task: null,\n      day,\n      hours,\n    });\n  };\n    const addNewRow = () => {\n    const newRow = {\n      project_name: \"\",\n      location: \"\",\n      billable: false,\n      task: \"\",\n      mon: 0,\n      tue: 0,\n      wed: 0,\n      thu: 0,\n      fri: 0,\n      sat: 0,\n      sun: 0,\n      totalHours: 0,\n    };\n    setTimesheets([...timesheets, newRow]);\n  };\n\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n      }}\n    >\n      {isLoading ? <div>Loading...</div> : \"\"}\n      {!isLoading && (\n        <div\n          style={{\n            backgroundColor: \"#1c1f21\",\n            borderRadius: \"4px\",\n            padding: \"20px\",\n            width: \"100%\",\n            height: \"100%\",\n            boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          }}\n        >\n          {timesheets && timesheets.length > 0 ? (\n            <table\n              style={{\n                width: \"100%\",\n                borderCollapse: \"collapse\",\n                textAlign: \"left\",\n                fontSize: \"14px\",\n              }}\n            >\n              <thead>\n                <tr>\n                  <th className=\"headerStyle\">Project</th>\n                  <th className=\"headerStyle\">Location</th>\n                  <th className=\"headerStyle\">Billable</th>\n                  <th className=\"headerStyle\">Task</th>\n                  {weekdays_str.map((day) => (\n                    <th className=\"headerStyle\">{day}</th>\n                  ))}\n                  <th className=\"headerStyle\">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                {timesheets.map((timesheet: any, timesheetIndex: number) => (\n                  <tr key={timesheetIndex}>\n                    <td className=\"cellStyle\"><input type=\"text\" id=\"projectName\" value={timesheet.project_name}/></td>\n                    <td className=\"cellStyle\">{timesheet.location || \"N/A\"}</td>\n                    <td className=\"cellStyle\">\n                      <input\n                        type=\"checkbox\"\n                        checked={timesheet.billable}\n                        disabled\n                      />\n                    </td>\n                    <td className=\"cellStyle\">N/A</td>\n                    {weekdays_str.map((day) => (\n                      <td className=\"cellStyle\" key={day}>\n                        <input\n                          type=\"number\"\n                          value={timesheet[day]}\n                          onChange={(e) =>\n                            handleHoursChange(timesheet.project_name, day, +e.target.value)\n                          }\n                          style={{\n                            width: \"50px\",\n                            textAlign: \"center\",\n                            border: \"1px solid #ccc\",\n                            borderRadius: \"4px\",\n                          }}\n                        />\n                      </td>\n                    ))}\n                    <td className=\"cellStyle\"></td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <p style={{ color: \"#333\" }}>No timesheets available at the moment.</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["TimesheetComponent","currentTimesheets","isLoading","useSuperblocksIsLoading","updateProperties","useSuperblocksContext","timesheets","React","setTimesheets","weekdays_str","handleHoursChange","projectName","day","hours","onChangeTimesheet","jsxRuntimeExports","jsx","timesheet","timesheetIndex","e"],"mappings":"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"}